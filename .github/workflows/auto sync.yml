name: Auto Sync main to main-3

on:
   workflow_dispatch:
   push:
       branches:
          - main 

jobs:
sync:
runs-on: ubuntu-latest
steps:
  - name: Checkout main branch
    uses: actions/checkout@v3
    with:
        fetch-depth: 0
        ref: main

  - name: Set up Git
    run: |
      git config user.name "${{ github.actor }}"
      git config user.email "${{ github.actor }}@users.noreply.github.com"

  - name: Checkout main-3 branch
    run: |
      git checkout main-3 || git checkout -b main-3 origin/main

  - name: Merge main branch
    run: |
      git merge origin/main

  - name: Push changes to main-3
    run: |
      git push origin main-3
Â 
